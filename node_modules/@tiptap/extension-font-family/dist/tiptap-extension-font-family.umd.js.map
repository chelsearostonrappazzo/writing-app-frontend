{"version":3,"file":"tiptap-extension-font-family.umd.js","sources":["../src/font-family.ts"],"sourcesContent":["import { Extension } from '@tiptap/core'\nimport '@tiptap/extension-text-style'\n\ntype FontFamilyOptions = {\n  types: string[],\n}\n\ndeclare module '@tiptap/core' {\n  interface Commands<ReturnType> {\n    fontFamily: {\n      /**\n       * Set the font family\n       */\n      setFontFamily: (fontFamily: string) => ReturnType,\n      /**\n       * Unset the font family\n       */\n      unsetFontFamily: () => ReturnType,\n    }\n  }\n}\n\nexport const FontFamily = Extension.create<FontFamilyOptions>({\n  name: 'fontFamily',\n\n  defaultOptions: {\n    types: ['textStyle'],\n  },\n\n  addGlobalAttributes() {\n    return [\n      {\n        types: this.options.types,\n        attributes: {\n          fontFamily: {\n            default: null,\n            renderHTML: attributes => {\n              if (!attributes.fontFamily) {\n                return {}\n              }\n\n              return {\n                style: `font-family: ${attributes.fontFamily}`,\n              }\n            },\n            parseHTML: element => ({\n              fontFamily: element.style.fontFamily.replace(/['\"]+/g, ''),\n            }),\n          },\n        },\n      },\n    ]\n  },\n\n  addCommands() {\n    return {\n      setFontFamily: fontFamily => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontFamily })\n          .run()\n      },\n      unsetFontFamily: () => ({ chain }) => {\n        return chain()\n          .setMark('textStyle', { fontFamily: null })\n          .removeEmptyTextStyle()\n          .run()\n      },\n    }\n  },\n})\n"],"names":["Extension"],"mappings":";;;;;;QAsBa,UAAU,GAAGA,cAAS,CAAC,MAAM,CAAoB;MAC5D,IAAI,EAAE,YAAY;MAElB,cAAc,EAAE;UACd,KAAK,EAAE,CAAC,WAAW,CAAC;OACrB;MAED,mBAAmB;UACjB,OAAO;cACL;kBACE,KAAK,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK;kBACzB,UAAU,EAAE;sBACV,UAAU,EAAE;0BACV,OAAO,EAAE,IAAI;0BACb,UAAU,EAAE,UAAU;8BACpB,IAAI,CAAC,UAAU,CAAC,UAAU,EAAE;kCAC1B,OAAO,EAAE,CAAA;+BACV;8BAED,OAAO;kCACL,KAAK,EAAE,gBAAgB,UAAU,CAAC,UAAU,EAAE;+BAC/C,CAAA;2BACF;0BACD,SAAS,EAAE,OAAO,KAAK;8BACrB,UAAU,EAAE,OAAO,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;2BAC3D,CAAC;uBACH;mBACF;eACF;WACF,CAAA;OACF;MAED,WAAW;UACT,OAAO;cACL,aAAa,EAAE,UAAU,IAAI,CAAC,EAAE,KAAK,EAAE;kBACrC,OAAO,KAAK,EAAE;uBACX,OAAO,CAAC,WAAW,EAAE,EAAE,UAAU,EAAE,CAAC;uBACpC,GAAG,EAAE,CAAA;eACT;cACD,eAAe,EAAE,MAAM,CAAC,EAAE,KAAK,EAAE;kBAC/B,OAAO,KAAK,EAAE;uBACX,OAAO,CAAC,WAAW,EAAE,EAAE,UAAU,EAAE,IAAI,EAAE,CAAC;uBAC1C,oBAAoB,EAAE;uBACtB,GAAG,EAAE,CAAA;eACT;WACF,CAAA;OACF;GACF;;;;;;;;;;;"}